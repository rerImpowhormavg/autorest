@using System.Linq
@using Microsoft.Rest.Generator.ClientModel
@using Microsoft.Rest.Generator.CSharp.TemplateModels
@inherits Microsoft.Rest.Generator.Template<Microsoft.Rest.Generator.CSharp.ModelTemplateModel>
@Header("// ")
@EmptyLine
namespace @(Settings.Namespace).Models
{
    using Microsoft.Rest;
    using Newtonsoft.Json;
    using Newtonsoft.Json.Converters;
    using System;
    using System.Runtime.Serialization;
#if !PORTABLE && !DNXCORE50
    using System.Security.Permissions;
#endif
@EmptyLine
    /// <summary>
    @WrapComment("/// ", "Exception thrown for an invalid response with " + Model.Name + " information.")
    /// </summary>
#if !PORTABLE && !DNXCORE50
    [Serializable]
#endif
    public class @Model.ExceptionTypeDefinitionName : HttpOperationException
    {
        /// <summary>
        /// Gets or sets the error object.
        /// </summary>
        public @Model.Name Error { get; set; }

        /// <summary>
        /// Initializes a new instance of the @Model.ExceptionTypeDefinitionName class.
        /// </summary>
        public @(@Model.ExceptionTypeDefinitionName)()
        {
        }

        /// <summary>
        /// Initializes a new instance of the @(@Model.ExceptionTypeDefinitionName) class.
        /// </summary>
        /// <param name="message">The exception message.</param>
        public @(Model.ExceptionTypeDefinitionName)(string message)
            : this(message, (Exception)null)
        {
        }

        /// <summary>
        /// Initializes a new instance of the @(@Model.ExceptionTypeDefinitionName) class.
        /// </summary>
        /// <param name="message">The exception message.</param>
        /// <param name="innerException">The inner exception.</param>
        public @(Model.ExceptionTypeDefinitionName)(string message, Exception innerException)
            : base(message, innerException)
        {
        }

        /// <summary>
        /// Initializes a new instance of the @(@Model.ExceptionTypeDefinitionName) class.
        /// </summary>
        /// <param name="message">The exception message.</param>
        /// <param name="error">The response content as @Model.Name type.</param>
        public @(Model.ExceptionTypeDefinitionName)(string message, @Model.Name error)
            : base(message, null)
        {
            Error = error;
        }

#if !PORTABLE && !DNXCORE50
        /// <summary>
        /// Initializes a new instance of the @(@Model.ExceptionTypeDefinitionName) class.
        /// </summary>
        /// <param name="info">Serialization info.</param>
        /// <param name="context">Streaming context.</param>
        protected @(Model.ExceptionTypeDefinitionName)(SerializationInfo info, StreamingContext context)
            : base(info, context)
        {
        }

        /// <summary>
        /// Serializes content of the exception.
        /// </summary>
        /// <param name="info">Serialization info.</param>
        /// <param name="context">Streaming context.</param>
        [SecurityPermission(SecurityAction.Demand, SerializationFormatter = true)]
        public override void GetObjectData(SerializationInfo info, StreamingContext context)
        {
            base.GetObjectData(info, context);
            if (info == null)
            {
                throw new ArgumentNullException("info");
            }

            info.AddValue("Request", Request);
            info.AddValue("Response", Response);
            info.AddValue("Error", Error);
        }
#endif
    }
}
