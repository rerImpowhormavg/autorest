@using System.Text
@using Microsoft.Rest.Generator.CSharp
@using Microsoft.Rest.Generator.CSharp.Templates
@using Microsoft.Rest.Generator.CSharp.TemplateModels
@using Microsoft.Rest.Generator.Utilities
@inherits Microsoft.Rest.Generator.Template<Microsoft.Rest.Generator.CSharp.MethodTemplateModel>

@{
@:/// <summary>
@:@WrapComment("/// ", Model.Documentation.EscapeXmlComment())
@:/// </summary>
@:/// <param name='operations'>
@:/// The operations group for this extension method
@:/// </param>
foreach (var parameter in Model.Parameters)
{
@:/// <param name='@parameter.Name'>
@:@WrapComment("/// ", parameter.Documentation.EscapeXmlComment())
@:/// </param>
}
@:public static @Model.ReturnTypeString @(Model.Name)(@Model.GetExtensionParameters(Model.SyncMethodParameterDeclaration))
@:{
    if (Model.ReturnType != null)
    {
    @:return Task.Factory.StartNew(s => ((I@(Model.MethodGroupName))s).@(Model.Name)Async(@(Model.SyncMethodInvocationArgs)), operations, CancellationToken.None, TaskCreationOptions.None, TaskScheduler.Default).Unwrap().GetAwaiter().GetResult();
    }
    else
    {
    @:Task.Factory.StartNew(s => ((I@(Model.MethodGroupName))s).@(Model.Name)Async(@(Model.SyncMethodInvocationArgs)), operations, CancellationToken.None, TaskCreationOptions.None, TaskScheduler.Default).Unwrap().GetAwaiter().GetResult();
    }
@:}
@EmptyLine
@:/// <summary>
@:@WrapComment("/// ", Model.Documentation.EscapeXmlComment())
@:/// </summary>
@:/// <param name='operations'>
@:/// The operations group for this extension method
@:/// </param>
foreach (var parameter in Model.Parameters)
{
@:/// <param name='@parameter.Name'>
@:@WrapComment("/// ", parameter.Documentation.EscapeXmlComment())
@:/// </param>
}
@:/// <param name='cancellationToken'>
@:/// Cancellation token.
@:/// </param>
@:public static async @Model.TaskExtensionReturnTypeString @(Model.Name)Async( @Model.GetExtensionParameters(Model.GetAsyncMethodParameterDeclaration()))
@:{
    if (Model.ReturnType != null)
    {
    @:@Model.OperationResponseReturnTypeString result = await operations.@(Model.Name)WithHttpMessagesAsync(@(Model.GetAsyncMethodInvocationArgs("null"))).ConfigureAwait(false);
    @:return result.Body;
    }
    else
    {
    @:await operations.@(Model.Name)WithHttpMessagesAsync(@(Model.GetAsyncMethodInvocationArgs("null"))).ConfigureAwait(false);
    }
@:}
@:
}